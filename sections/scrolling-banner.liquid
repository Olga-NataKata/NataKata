{{ 'section-scrolling-banner.css' | asset_url | stylesheet_tag }}

{%- style -%}
  #shopify-section-{{ section.id }} {
		--padding-top: {{ section.settings.padding_top }}px;
		--padding-bottom: {{ section.settings.padding_bottom }}px;
		--padding-top-mb: {{ section.settings.padding_top_mb }}px;
		--padding-bottom-mb: {{ section.settings.padding_bottom_mb }}px;

		--_animation-duration: {{ section.settings.scroll_speed }}s;
  }
{%- endstyle -%}

<div class="section-responsive-padding scroller-wrapper color-{{ section.settings.color_scheme }}">
	<div
		class=" scroller"
		data-speed="fast"
		data-direction="{{ section.settings.scroll_direction }}"
		data-animated="true"
	>
		<ul class="scroller__inner list-unstyled">
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}

							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
			<li>
				{%- for block in section.blocks -%}
					{% case block.type %}
						{%- when 'icon' -%}
							{%- style -%}
								#Icon-{{ block.id }}-{{ section.id }} {
									--icon-width: {{ block.settings.image_width }}px;
								}
							{%- endstyle -%}


							<div id="Icon-{{ block.id }}-{{ section.id }}" class="scroller-item icon">
								{% if block.settings.image != blank %}
									{%- assign widths = '108' -%}
									{{
										block.settings.image
										| image_url: width: 108
										| image_tag: loading: 'lazy', sizes: '108', widths: widths, alt: block.settings.image.alt
									}}
								{%- else -%}
									{{ 'product-1' | placeholder_svg_tag: 'placeholder-svg' }}
								{%- endif -%}
							</div>
	
						{%- when 'heading' -%}
							<div style="--_s-clr-text: var({{ block.settings.color }})" class="scroller-item rte {{ block.settings.text_size }}">
								<p>
									{{ block.settings.text }}
								</p>
							</div>
					{%- endcase -%}
				{%- endfor -%}
			</li>
		</ul>
	</div>
</div>


{% schema %}
{
  "name": "Scrolling banner",
  "class": "section",
  "tag": "section",
  "disabled_on": {
    "groups": ["footer"]
  },
  "settings": [
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "t:sections.all.colors.label",
      "default": "background-2"
    },
    {
      "type": "range",
      "id": "scroll_speed",
      "min": 15,
      "max": 115,
      "step": 1,
      "unit": "s",
      "label": "Scroll speed",
      "default": 45
    },
    {
      "type": "select",
      "id": "scroll_direction",
      "options": [
        {
          "value": "left",
          "label": "Left"
        },
        {
          "value": "right",
          "label": "Right"
        }
      ],
      "default": "left",
      "label": "Scroll direction"
    },
    {
      "type": "header",
      "content": "t:sections.all.padding.section_padding_heading"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top",
      "default": 74
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom",
      "default": 74
    },
		{
      "type": "range",
      "id": "padding_top_mb",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_top_mb",
      "default": 56
    },
    {
      "type": "range",
      "id": "padding_bottom_mb",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "t:sections.all.padding.padding_bottom_mb",
      "default": 56
    },
  ],
  "blocks": [
    {
      "type": "heading",
      "name": "Scrolling text",
      "limit": 5,
      "settings": [
        {
          "type": "inline_richtext",
          "id": "text",
          "default": "Add campaign or promotional text here",
          "label": "Text"
        },
				{
					"type": "select",
					"id": "text_size",
					"label": "Text size",
					"options": [
						{
						"value": "h5",
						"label": "Small"
						},
						{
						"value": "h4",
						"label": "Medium"
						},
						{
						"value": "h3",
						"label": "Large"
						}
					],
					"default": "h5"
				},
      ]
    },
    {
      "type": "icon",
      "name": "Icon",
      "limit": 5,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
				{
					"type": "range",
					"id": "image_width",
					"min": 10,
					"max": 120,
					"step": 2,
					"unit": "px",
					"default": 110,
					"label": "Image width"
				}
      ]
    }
  ],
  "presets": [
    {
      "name": "Scrolling banner",
      "blocks": [
        {
          "type": "heading"
        }
      ]
    }
  ]
}
{% endschema %}
